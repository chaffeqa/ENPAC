<h1 class="title">Items</h1>



<% unless @items.empty? %>
  <table>
    <tr>
      <th></th>
      <th><%= sortable "name", "Item Name", inventory_search_parameters %></th>
      <th><%= sortable "part_number", 'Part #', inventory_search_parameters %></th>
      <th><%= sortable "cost", "Price", inventory_search_parameters %></th>
    </tr>
    <% @items.each do |item| %>
      <% if item.node %>
        <tr>
          <td class="itemThumb"> <%= link_to(image_tag(item.thumbnail_image), shortcut_path(item.node.shortcut))  %> </td>
          <td><%= item.name %></td>
          <td><%= link_to item.part_number, shortcut_path(item.node.shortcut) %></td>
          <td><%= number_to_currency(item.cost) %></td>
        </tr>
      <% end %>
    <% end %>
  </table>
  <hr/>
  <div class="pagination"><%= will_paginate @items %></div>

<% else %>
  <p>No items matched your search.</p>
<% end %>

<!-- Content_for components to insert into static_page -->
<%= content_for :subColumn do %>
  <h3>Your Search Parameters:</h3>
  <ul>
    <% unless params[:searchText].blank? %> <li><strong>Search Text:</strong><br/> "<%= params[:searchText] %>"</li> <% end %>
    <% unless params[:category].blank? %> <li><strong>Under Category:</strong><br/> <%= params[:category] %></li> <% end %>
    <% unless params[:cost_range].blank? %> <li><strong>Price Range:</strong><br/> $<%= params[:cost_range] %></li> <% end %>
  </ul>
<% end %>

<%= content_for :breadcrumb do %>
  <%= render 'partials/inventory_breadcrumb' %>
<% end %>

<% content_for :page_title do %>
  Search Results
<% end %>
<!-- End -->
